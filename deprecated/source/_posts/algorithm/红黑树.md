---
title: 红黑树
date: 2020-03-05 19:44:00
categories:
	- algorithm
tags:
	- algorithm
mathjax: true
typora-root-url: ../..
---


# 性质

1. 所有节点都是红色或者黑色。
2. 根节点为黑色。
3. 每个叶子节点下挂两个NULL节点，并且NULL节点为黑色。
4. 如果该节点是红色的，那么该节点的子节点一定都是黑色。
5. 从根节点到叶子节点的路径，每条路径的黑色节点数目是相同的。

#插入

1. 插入节点X到对应位置，初始为红色。
2. 如果X是根节点，则标记为黑色。
3. 如果X的父节点是根节点，返回。
4. 否则，X和X的父节点都不是根节点：
   1. 如果X的父节点是黑色，返回。
   2. 否则，看X的uncle节点是不是红色：
      1. 如果X的父节点和X的uncle都是红色，变色，**向上检查**X的父亲的父亲节点的颜色。
      2. 否则，如果X在父节点是X的祖先节点的左子节点
         1. 如果X也是父节点的左子节点（LL），右旋变色。**返回。**
         2. 如果X是父节点的右子节点（LR），先左旋、再右旋变色。**返回。**
      3. 如果X在父节点是X的祖先节点的右子节点
         1. 如果X也是父节点的右子节点（RR），左旋变色。**返回。**
         2. 如果X是父节点的左子节点（RL），先右旋、再左旋变色。**返回。**



#平衡二叉树与红黑树的对比

1. 搜索长度
   - 红黑树搜索路径的最大长度不超过搜索路径的最短长度的2倍。
   - 平衡二叉树差值不大于1。
2. 插入
   - 红黑树在插入的时候，只有X的父节点和Uncle都是红色，才要递归到根节点变色，否则只要旋转1-2次就可以。
   - AVL在插入时，要找到最低的不平衡位置，向上递归到根节点旋转。
3. 删除
   - 红黑树只有个别情况才会递归平衡父节点，它发生在：兄弟节点是黑色，两个侄儿也是黑色。当兄弟节点是红色的时候，转化为兄弟节点是黑色的情况处理，当两个侄儿有红色节点的时候，则在常数时间内就可以达到平衡。
   - AVL和插入类似，找到第一个不平衡位置，向上递归到根节点。

# 引用

1. [一篇搞懂AVL平衡二叉树](https://zhuanlan.zhihu.com/p/34840762)
2. [平衡二叉树的插入与删除]([https://pjmike.github.io/2018/08/09/%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%8F%92%E5%85%A5%E4%B8%8E%E5%88%A0%E9%99%A4/](https://pjmike.github.io/2018/08/09/平衡二叉树的插入与删除/))
3. [sdut-数据结构实验之查找二：平衡二叉树](https://acm.sdut.edu.cn/onlinejudge2/index.php/Home/Index/problemdetail/pid/3374.html)
4. [红黑树，超强动静图详解，简单易懂](https://zhuanlan.zhihu.com/p/79980618)
5. [数据结构：红黑树的删除](https://zhuanlan.zhihu.com/p/22800206)
6. [红黑树比 AVL 树具体更高效在哪里？](https://www.zhihu.com/question/19856999)

