---
title: 面经整理
date: 2020-03-10 15:45:00
categories:
	- others
tags:
	- interview
	- record
typora-root-url: ../../
---

# 蚂蚁金服 中间件

> https://www.nowcoder.com/discuss/87736?type=2&order=1&pos=25&page=1

## 一面

1. 个人介绍加项目介绍20分钟
2. 缺点？
3. ACID CAP BASE理论
4. 分布式一致性协议，二段、三段、TCC，优缺点
5. RPC过程
6. 服务注册中心宕机了怎么办？
7. 微服务还有其他什么组件
8. 分布式架构与微服务的关系
9. 你有什么问题要问我的。

## 二面

1. 各种排序算法、未排序常规数据查找第K大的数，时间复杂度。
2. 二叉树的深度
3. 虚拟内存分页了解不？
4. 进程和线程区别
5. 第一二三范式是什么？
6. 一个表一千个列值为true和false，写sql 查询 有300个列值为true的行。
7. 脏读和幻读是什么？
8. 什么对象会从新生代晋升到老年代
9. 一个任务分成十个任务，最后汇总计算，不能用fork/join
10. 实习+项目问题，基本是在联想研究院做的东西，还问我为什么不留那。。。
11. 开源框架源码了解不？
12. 数据建模两道、个人题开放性题
13. 对安全方面了解多少？
14. 安全协议有哪些 、https是啥？

# 蚂蚁金服中间件

> https://www.nowcoder.com/discuss/85619?type=post&order=time&pos=&page=1&subType=2

## 一面

1. 项目balabala，项目问的很细很细
2. redis的持久化方式，redis3.0原生集群和redis读写分离+哨兵机制区别
3. 工厂模式和抽象工厂模式区别
4. hashmap底层
5. 分布式架构简单介绍
6. 分布式架构会带来哪些问题
7. 快排，归并排序原理
8. jvm垃圾回收算法和原理
9. 对象进入老年代的几种方式
10. 代表个人最高水平的一个技术点（好像是这个意思，应该是针对某个项目而言吧）
11. redis持久化方式

## 二面

1. 项目balabala（20分钟） 
2. redis rdb和aof（redis必问环节） 
3. redis事务 
4. hashmap底层 
5. threadpoolexecutor关键参数解释 
6. blockqueue实现消费者和生产者通过put和take方法，介绍put和take底层实现 
7. 场景设计：多个线程结束后再运行主线程 
8. 原子包的实现 
9. fail-fast原理 
10. lock和synchronized，涉及可重入锁，锁的优化（偏向锁，轻量级锁，自旋锁的实现细节） 
11. 设计一个缓存系统（基于LRU的过期策略）（15分钟）

## 三面

1. 幻读以及MVCC 
2. 1000个列，列的值非0即1，求每一行值加起来大于300的数据行，全部select出来 
3. 进程中断 
4. 进程饥饿 
5. 动态规划原理以及和分治法区别 
6. 二叉树深度求解 
7. spring MVC，spring AOP源码 
8. spring循环引用 
9. spring事务传播机制 
10. 可重入锁 
11. double check介绍  
12. java nio，bio，aio，操作系统底层nio实现原理  
13. 一个任务分成多个任务，最后汇总计算，不能用fork/join  
14. 感兴趣的方向

# 蚂蚁金服 中间件

> https://www.nowcoder.com/discuss/91738?type=post&order=time&pos=&page=1&subType=2

## 一面 一

1. Java中的多线程了解么，线程池的增长策略和拒绝策略了解么，说一下。

2. 讲一下线程增加的过程和拒绝策略的执行。

3. 讲了一下fixthreadpool的增长策略，然后几种拒绝策略。  

4. 高并发情况下，如何使用线程池，用哪个，问了一下线程结束要多久，是否在下一个线程结束前完成。  

5. 表示并发量比较大，所以我说可以考虑并发量是否大于队列长度加上最大线程数量和，如果不超过的话可以是用fixthreadpool。  

6. 并发juc了解么，有哪些线程安全的list。说了个copyonwritelist，想了半天说不出第二个了。尴尬，那就vector把，不是juc里的。  

7. 还问了concurrenthashmap1.8的改动。  

8. HTTP协议了解么，和tcp有什么区别。  

9. http1.0和2.0的区别。  

   答了TCP连接复用，加入ssl，以及压缩请求头。  

   其中哪个更新比较有意义，为什么。我说的是压缩请求头，这样可以优化HTTP服务的性能。  

10. Java的网络编程，比如NIO和Socket了解么。  

11. 说下BIO和NIO的区别把。  
    我说了BIO的阻塞用法，以及NIO的IO多路复用用法，说了selector，seletedkey，channel等类的使用流程，以及单线程处理连接，多线程处理IO请求的好处。  

12. 说一下NIO的类库或框架  
    讲了netty，写过服务端和客户端的demo，没有在生产中实践。  

13. channelhandler负责请求就绪时的io响应。   

14. bytebuf支持零拷贝，通过逻辑buff合并实际buff。   

15. eventloop线程组负责实现线程池，任务队列里就是io请求任务，类似线程池调度执行。   

16. acceptor接收线程负责接收tcp请求，并且注册任务到队列里。   

17. 倒排索引了解么，我说不了解。  

18. 然后面试官说讲一下数据库把，说下sql优化的方式  

19. 我说的是MySQL，先讲了一下sql使用索引的优化，然后基于索引说了几条优化方案。  

20. 索引什么时候会失效变成全表扫描  
    说了联合索引的前缀匹配，跳跃索引，聚合函数，判空和<>这些情况。  

21. 分布式的paxos和raft算法了解么  

22. 中间件知道哪些，阿里的dubbo，rocketmq的事务消息，问了TCC回答说这个之前没看明白。  

23. 平时看什么书，怎么学习的。还跟我说他们部门3个华科的，校友多多。  

24. Spring和Springmvc讲一下。讲了Spring的ioc和aop，Springmvc的基本架构，请求流程。

## 一面 二

1. 自我介绍  
2. 讲一下ArrayList和linkedlist的区别，ArrayList的扩容方式，扩容时机。  
   添加元素时，检查是否满了，满了扩容。变为 1.5 倍。
   初始默认是 10。
3. hashmap的实现。  
4. NIO了解么，讲一下和BIO的区别，AIO呢。阻塞，非阻塞，异步。具体。  
5. 你说了解分布式服务，那么你怎么理解分布式服务。  
6. 你说了解Tomcat的基本原理，了解的是哪一部分，基本架构，connector和container  
7. 你在项目中怎么用到并发的  
8. docker和虚拟机讲一下。  
9. 有啥想问的

## 二面

1. 项目  
2. 说一下Spring源码把，它的架构，流程。  
3. Spring的bean如果要在实例化过程中修改其某一个成员变量，应该怎么做呢。不通过构造方法，并且AOP也并不能实现。  
4. Tomcat的类加载器了解么，回答不了解只了解Java的类加载器。  
5. 自定义类加载器怎么实现，其中哪个方法走双亲委派模型，哪个不走，不走的话怎么加载类（实现findclass方法，一般用defineclass加载外部类），如何才能不走双亲委派。（重写loadclass方法）  
6. 布隆过滤器了解么，讲了ip地址过滤的布隆过滤器实现。  
7. 听说你项目用过docker，讲一下docker的实现原理，说了虚拟机一般要对内核进行虚拟化，docker则用cgroup和namespace分别进行硬件和命名空间的隔离。  
8. 项目中遇到的最大挑战。  
9. 项目中学到最多的东西  
10. 有什么想问

# 蚂蚁金服 中间件 C++

> https://www.nowcoder.com/discuss/87810?type=post&order=time&pos=&page=1&subType=2

## 一面

1. 项目 
2. C++模板 	
3. TCP和UDP
4. 分布式算法 
5. C++中的流处理 
6. 在腾讯的实习日常 	
7. TCP中的握手与ddos等相关问题 	
8. 金字塔存储模型与各层作用于各层之间关系 	
9. AVL的特性 	
10. 八大排序内容 	
11. 有啥想问的

## 二面

二面面试官问的问题不多，但是一个问题抛出来以后会根据我的回答继续追问我回答的细节，其实就是相当于我说会啥问啥然后是往深了问

1. 自我介绍 	
2. 数据库的事务实现原理、操作过程、如何做到事物之间的独立性等问题 	
3. 数据库的脏读，幻读，不可重复读出现的原因原理，解决办法 	
4. 数据库的隔离级别、MVCC 	
5. 乐观锁、悲观锁、互斥锁、读写锁的原理实现与区别 
6. 线程的生命周期 	
7. 一致性hash算法原理与应用 
8. CAP原则 	
9. CAS操作 	
10. 分布式raft算法 	
11. zookeeper原理 	
12. 堆的构造(n)、插入(NlogN)、删除(logN)等过程原理和时间复杂度 	
13. 在一个平面直角坐标系中，有一只蚂蚁从原点开始走，只可以向右边（与X正半轴平行）和上边（与Y轴正半轴平行）爬行，要到达（x,y）坐标，请问有几种走法，推导出一个公式。（开始 时候还没明白面试官的意图，然后我就一直在想，后面我想到是斐波那契数列，然后面试官说我的方向是对的，后面经过无数次提示终于推导出了公式） 	
14. 有啥想问的没（我问对我面试的评价与建议还有面试官的工作日常）